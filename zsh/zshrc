#!/usr/bin/zsh

typeset -U PATH
typeset -U FPATH

ZSH_ROOT="$(dirname $(readlink ~/.zshrc))"

export XDG_CACHE_HOME="${XDG_CACHE_HOME:-${HOME}/.cache}"
export XDG_CONFIG_HOME="${XDG_CONFIG_HOME:-${HOME}/.config}"
export XDG_CONFIG_DIRS="${XDG_CONFIG_DIRS:-/etc/xdg}"
export XDG_DATA_HOME="${XDG_DATA_HOME:-${HOME}/.local/share}"
export XDG_DATA_DIRS="${XDG_DATA_DIRS:-/usr/local/share:/usr/share}"

export HISTFILE=~/.zsh_history
export HISTSIZE=262144
export SAVEHIST=262144

export FPATH="${FPATH}:${ZSH_ROOT}/functions"

source "${XDG_DATA_HOME}/zinit/zinit.zsh"

zinit light zsh-users/zsh-autosuggestions
zinit light zsh-users/zsh-completions
zinit light zsh-users/zsh-syntax-highlighting
zinit light mafredri/zsh-async

stty -ixon -ixoff

autoload -Uz cdtemp
autoload -Uz promptinit

promptinit
prompt protheme

alias reload="exec ${SHELL}"

[ -f "~/.zshrc.local" ] && source ~/.zshrc.local
